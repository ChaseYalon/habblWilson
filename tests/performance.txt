TODO: make it so performace data gets logged here